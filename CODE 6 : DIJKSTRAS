#include <iostream>
#include <climits>
using namespace std;

#define MAX 20     // Maximum number of locations
#define INF INT_MAX

class LogisticsNetwork {
private:
    int numNodes;
    int graph[MAX][MAX];

public:
    LogisticsNetwork(int nodes) {
        numNodes = nodes;
        // Initialize graph matrix
        for (int i = 0; i < numNodes; ++i)
            for (int j = 0; j < numNodes; ++j)
                graph[i][j] = INF;
    }

    void addRoute(int from, int to, int weight) {
        graph[from][to] = weight;
    }

    void displayGraph() {
        cout << "\nDelivery Routes (Adjacency Matrix):\n";
        for (int i = 0; i < numNodes; ++i) {
            for (int j = 0; j < numNodes; ++j) {
                if (graph[i][j] == INF)
                    cout << "âˆž ";
                else
                    cout << graph[i][j] << " ";
            }
            cout << endl;
        }
    }

    void dijkstra(int source) {
        int dist[MAX], visited[MAX];
        for (int i = 0; i < numNodes; ++i) {
            dist[i] = INF;
            visited[i] = 0;
        }

        dist[source] = 0;

        for (int count = 0; count < numNodes - 1; ++count) {
            // Find node with minimum distance
            int u = -1, minDist = INF;
            for (int i = 0; i < numNodes; ++i) {
                if (!visited[i] && dist[i] < minDist) {
                    minDist = dist[i];
                    u = i;
                }
            }

            if (u == -1) break;
            visited[u] = 1;

            // Relax edges
            for (int v = 0; v < numNodes; ++v) {
                if (!visited[v] && graph[u][v] != INF && dist[u] + graph[u][v] < dist[v]) {
                    dist[v] = dist[u] + graph[u][v];
                }
            }
        }

        cout << "\nShortest Paths from Warehouse (Node " << source << "):\n";
        for (int i = 0; i < numNodes; ++i) {
            if (dist[i] == INF)
                cout << "Retail Location " << i << ": Not reachable\n";
            else
                cout << "Retail Location " << i << ": " << dist[i] << endl;
        }
    }
};

int main() {
    int nodes;
    cout << "Enter number of locations (warehouse + outlets): ";
    cin >> nodes;

    LogisticsNetwork net(nodes);

    int choice;
    do {
        cout << "\n--- Logistics & Supply Chain Menu ---\n";
        cout << "1. Add Delivery Route\n";
        cout << "2. Display Routes\n";
        cout << "3. Compute Shortest Paths (Dijkstra)\n";
        cout << "4. Exit\n";
        cout << "Enter choice: ";
        cin >> choice;

        switch (choice) {
            case 1: {
                int from, to, w;
                cout << "Enter source, destination, and distance: ";
                cin >> from >> to >> w;
                net.addRoute(from, to, w);
                break;
            }
            case 2:
                net.displayGraph();
                break;
            case 3: {
                int src;
                cout << "Enter starting warehouse node: ";
                cin >> src;
                net.dijkstra(src);
                break;
            }
        }
    } while (choice != 4);

    return 0;
}
