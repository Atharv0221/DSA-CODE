//main.cpp


#include<iostream>
#include<string>
#include "stack.h"
using namespace std;

void showMenu(){
    cout<<"---Text editor Menu ---"<<endl;
    cout<<"1.Type text"<<endl;
    cout<<"2.Change font"<<endl;
    cout<<"3.Change case"<<endl;
    cout<<"4.New line"<<endl;
    cout<<"5.Change font size"<<endl;
    cout<<"6.Undo"<<endl;
    cout<<"7.Redo"<<endl;
    cout<<"8.Exit"<<endl;
    cout<<"Enter your choice :";
}
int main(){
    Stack undoStack;
    Stack redoStack;
    int choice;
    string input;
    Action action;
    while(true){
        showMenu();
        cin>>choice;
        cin.ignore();
        
        switch(choice){
            case 1:
            cout<<"Enter text :";
            getline(cin,input);
            action.description="Typed text :"+input; 
            undoStack.push(action);
            redoStack.clear();
            break;
            
            case 2:
            cout<<"Enter font name :";
            getline(cin,input);
            action.description="Change font to :"+input;
            undoStack.push(action);
            redoStack.clear();
            break;
            
            case 3:
            cout<<"Enter case(UPPER/LOWER) :";
            getline(cin,input);
            action.description="Changed case to :"+input;
            undoStack.push(action);
            redoStack.clear();
            break;
            
            case 4:
            action.description="Inserted new line :";
            undoStack.push(action);
            redoStack.clear();
            break;
            
            case 5:
            cout<<"Enter font size :";
            getline(cin,input);
            action.description="Change font size to :"+input;
            undoStack.push(action);
            redoStack.clear();
            break;
            
            case 6:
            if(!undoStack.isEmpty()){
                Action undone=undoStack.pop();
                redoStack.push(undone);
                cout<<"Undo performed :"<<undone.description<<endl;
            }else{
                cout<<"Nothing to undo .";
            }
            break;
            
            case 7:
            if(!redoStack.isEmpty()){
                Action redone=redoStack.pop();
                undoStack.push(redone);
                cout<<"Redo performed :"<<redone.description<<endl;
            }else{
                cout<<"Nothing to redo ."<<endl;
            }
            break;
            case 8:
            cout<<"Exiting text editor .Goodbye !"<<endl;
            return 0;
            
            default:
            cout<<"Invalid option.Try again.";
        }
    }
    return 0;
}

//stack.h

#include<iostream>
#include<string>
using namespace std;

struct Action{
    string description;
};
struct Node{
    Action data;
    Node* next;
    
    Node(const Action& action){
        data=action;
        next=nullptr;
    }
};
class Stack{
    private:
        Node* top;
    public:
    Stack(){
        top=nullptr;
    }
    void push(const Action& action){
        Node* newNode=new Node(action);
        newNode->next=top;
        top=newNode;
    }
    Action pop(){
        if(isEmpty()){
            return {"NO ACTION"};
        }
        Node* temp=top;
        Action popped=temp->data;
        top=top->next;
        delete temp;
        return popped;
    }
    Action peek() const{
        if(isEmpty()){
            return {"NO ACTION"};
        }
        return top->data;
    }
    bool isEmpty() const {
        return top==nullptr;
    }
    void clear(){
        while(!isEmpty()){
            pop();
        }
    }
};
