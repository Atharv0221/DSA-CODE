#include <iostream>
#include <string>
using namespace std;

const int MAX = 10; // Max stations for simplicity

// Station data arrays
int ridership[MAX], revenue[MAX], is_transfer[MAX];
string name[MAX], type[MAX];
int adj[MAX][MAX]; // Adjacency matrix for connections

int main() {
    int n, e;
    cout << "Enter number of stations: ";
    cin >> n;

    // Station data input
    for (int i = 0; i < n; i++) {
        cout << "Station " << i << " name: ";
        cin.ignore();
        getline(cin, name[i]);
        cout << "Type (Elevated/Underground): ";
        getline(cin, type[i]);
        cout << "Is Transfer Station? (1=Yes,0=No): ";
        cin >> is_transfer[i];
        cout << "Daily Ridership: ";
        cin >> ridership[i];
        cout << "Daily Revenue: ";
        cin >> revenue[i];
    }

    // Connections input
    cout << "Enter number of direct connections: ";
    cin >> e;
    for (int i = 0; i < e; i++) {
        int u, v;
        cout << "Enter two station ids for connection " << i+1 << ": ";
        cin >> u >> v;
        adj[u][v] = adj[v][u] = 1; // Undirected edge
    }

    // Find max revenue, max/min ridership
    int maxRevIdx = 0, maxRidIdx = 0, minRidIdx = 0;
    for (int i = 1; i < n; i++) {
        if (revenue[i] > revenue[maxRevIdx]) maxRevIdx = i;
        if (ridership[i] > ridership[maxRidIdx]) maxRidIdx = i;
        if (ridership[i] < ridership[minRidIdx]) minRidIdx = i;
    }
    cout << "Station with max revenue: " << name[maxRevIdx] << ", Rs." << revenue[maxRevIdx] << endl;
    cout << "Station with max ridership: " << name[maxRidIdx] << ", " << ridership[maxRidIdx] << endl;
    cout << "Station with min ridership: " << name[minRidIdx] << ", " << ridership[minRidIdx] << endl;

    // Print stations by type
    cout << "Elevated stations:\n";
    for (int i = 0; i < n; i++)
        if (type[i] == "Elevated")
            cout << name[i] << endl;
    cout << "Underground stations:\n";
    for (int i = 0; i < n; i++)
        if (type[i] == "Underground")
            cout << name[i] << endl;

    // Simple BFS implementation
    int start;
    cout << "Enter start station id for BFS traversal: ";
    cin >> start;
    int queue[MAX], front = 0, rear = 0, visited[MAX] = {0};
    queue[rear++] = start; visited[start] = 1;
    cout << "BFS: ";
    while (front < rear) {
        int u = queue[front++];
        cout << name[u] << " ";
        for (int v = 0; v < n; v++)
            if (adj[u][v] && !visited[v]) {
                queue[rear++] = v;
                visited[v] = 1;
            }
    }
    cout << endl;

    // Simple DFS implementation
    for (int i = 0; i < n; i++) visited[i] = 0;
    int stack[MAX], top = -1;
    stack[++top] = start; visited[start] = 1;
    cout << "DFS: ";
    while (top >= 0) {
        int u = stack[top--];
        cout << name[u] << " ";
        for (int v = 0; v < n; v++)
            if (adj[u][v] && !visited[v]) {
                stack[++top] = v;
                visited[v] = 1;
            }
    }
    cout << endl;
    return 0;
}
